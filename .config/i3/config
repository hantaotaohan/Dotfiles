# Mod1=Alt
# Mod2=
# Mod3=
# Mod4=Win
set $mod Mod1

# 字体配置 
#font pango:monospace 8
#font pango:Inziu_Iosevka_SC_Bold 10

# 鼠标移动调整方向设置
set $up k
set $down j
set $left h
set $right l

# 新窗口无边框
# 新浮动窗口无边框
new_window none
new_float none

# 启用鼠标托放浮动窗口
floating_modifier $mod

# 开启Terminal快捷键 
#bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Return exec alacritty

# 开启Google Chrome快捷键 
bindsym $mod+g exec google-chrome-stable --force-dark-mode

# 打开Ranger快捷键
bindsym $mod+Shift+Return exec alacritty -e ranger

# 关闭窗口快捷键 
bindsym $mod+Shift+q kill

# rofi 设置及配置 apt install rofi
bindsym $mod+d exec --no-startup-id rofi -show drun

# 窗口焦点切换 - 方案一
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# 窗口焦点切换 - 方案二
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# 移动窗口 - 方案一 
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# 移动窗口 - 方案二 
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# 下一次开启窗口为水平 
bindsym $mod+Shift+b split h

# 下一次开启窗口为垂直
bindsym $mod+Shift+v split v

# 开启全屏模式
bindsym $mod+f fullscreen toggle

# 切换窗口布局
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# 切换模式 窗口模式与浮动窗口模式
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# 设定工作区名
#set $workspace1 "   01  "
#set $workspace2 "   02  "
#set $workspace3 "   03  "
#set $workspace4 "   04  "
#set $workspace5 "   05  "
#set $workspace6 "   06  "
#set $workspace7 "   07  "
#set $workspace8 "   08  "
#set $workspace9 "   09  "
#set $workspace0 "   10  "
set $workspace1 "1"
set $workspace2 "2"
set $workspace3 "3"
set $workspace4 "4"
set $workspace5 "5"
set $workspace6 "6"
set $workspace7 "7"
set $workspace8 "8"
set $workspace9 "9"
set $workspace0 "10"

# 切换工作区
bindsym $mod+1 workspace $workspace1
bindsym $mod+2 workspace $workspace2
bindsym $mod+3 workspace $workspace3
bindsym $mod+4 workspace $workspace4
bindsym $mod+5 workspace $workspace5
bindsym $mod+6 workspace $workspace6
bindsym $mod+7 workspace $workspace7
bindsym $mod+8 workspace $workspace8
bindsym $mod+9 workspace $workspace9
bindsym $mod+0 workspace $workspace0

# 移动当前至工作区
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+2 move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+7 move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+9 move container to workspace $workspace9
bindsym $mod+Shift+0 move container to workspace $workspace0

# 打开指定程序到指定的工作区-可用 xprop | grep WM_CLASS 命令获取wm_class
# assign [class="Firefox"]  					  $workspace1
# assign [class="Gnome-terminal"]	              $workspace1

# 设定那些程序为浮动窗口
for_window [class="Nautilus"]               floating enable

# reload the configuration file
bindsym $mod+Shift+c reload
# 重置ℹ3wm配置文件
bindsym $mod+Shift+r restart
# 退出i3wm
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# 调整窗口大小配置
mode "resize" {
        # 调整窗口大小-方案一
        bindsym l resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym h resize grow width 10 px or 10 ppt

        # 调整窗口大小-方案二
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # 推出调整模式: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
# 调整窗口大小快捷键
bindsym $mod+r mode "resize"


# 锁屏设定
bindsym Ctrl+$mod+l exec i3lock-fancy

# 关机锁屏相关设定
set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
     bindsym l exec --no-startup-id i3lock-fancy, mode "default"
     bindsym e exec --no-startup-id systemctl exit, mode "default"
     bindsym s exec --no-startup-id i3lock-fancy; systemctl suspend, mode "default"
     bindsym h exec --no-startup-id i3lock-fancy; systemctl hibernate, mode "default"
     bindsym r exec --no-startup-id systemctl reboot, mode "default"
     bindsym Shift+s exec --no-startup-id systemctl poweroff, mode "default"
     # back to normal: Enter or Escape
     bindsym Return mode "default"
     bindsym Escape mode "default"
}
 bindsym $mod+Delete mode "$mode_system"



# Themes  Base16 OneDark
set $base00 #282c34
set $base01 #353b45
set $base02 #3e4451
set $base03 #545862
set $base04 #565c64
set $base05 #abb2bf
set $base06 #b6bdca
set $base07 #c8ccd4
set $base08 #e06c75
set $base09 #d19a66
set $base0A #e5c07b
set $base0B #98c379
set $base0C #56b6c2
set $base0D #61afef
set $base0E #c678dd
set $base0F #be5046

# Basic color configuration using the Base16 variables for windows and borders.

# Property Name         Border  BG      Text    Indicator Child Border
client.focused          $base06 $base06 $base00 $base0D $base0D
client.focused_inactive $base01 $base01 $base06 $base03 $base01
client.unfocused        $base00 $base00 $base06 $base01 $base01
client.urgent           $base08 $base08 $base00 $base08 $base08
client.placeholder      $base00 $base00 $base06 $base00 $base00
client.background $base07

# start i3bar to display a workspace bar
bar {
    font pango:Inziu Iosevka SC Bold 10
    status_command          i3status -c ~/.config/i3status/config
    status_command 	    i3blocks
    separator_symbol        "-"
    workspace_buttons       yes
    strip_workspace_numbers yes
    position                top
    tray_output             primary
    tray_padding            0
	colors {
        background $base00
        separator  $base01
        statusline $base06
        # State             Border  BG      Text
        focused_workspace   $base00 $base00 $base0D
        active_workspace    $base00 $base00 $base06
        inactive_workspace  $base00 $base00 $base06
        urgent_workspace    $base00 $base08 $base00
        binding_mode        $base00 $base00 $base0E
    }
}



# 启动项
# 启用输入法ibus
# exec --no-startup-id ibus-daemon -drx
# 启用输入法fcitx
exec --no-startup-id fcitx &
# 启用壁纸 apt install feh
exec --no-startup-id feh --bg-scale ~/.config/i3/background.jpg
# 透明窗口
exec --no-startup-id compton --config ~/.config/compton/compton.conf
# xmodmap
exec --no-startup-id xmodmap ~/.Xmodmap
# 自动锁屏
exec --no-startup-id xautolock -time 1 -locker "i3lock-fancy"
# 网络图标
exec --no-startup-id nm-applet
# 加载键盘加速脚本
exec_always "sh ~/.config/i3/speedkeyboard.sh"

